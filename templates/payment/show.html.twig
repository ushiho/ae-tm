
    {% extends 'payment/paymentBase.html.twig' %}
{% block center_column %}
    <div class="panel-body">


            <div class="panel-heading main-color-bg">
                <h3 class="panel-title">Payments</h3>
            </div><br>
            {% block path %}
                {{ parent()}}
                &nbsp;/&nbsp;
                <a href="#" class="btn-info btn-xs">
                    Details</a>
            {% endblock %}


    <br>
        <div class="table-responsive">
            <table class="table table-striped table-hover" cellpadding="0" cellspacing="0">
            <tr>
                <th class="full" colspan="2">Details</th>
            </tr>
            <tr class="bg">
                <td class="first" width="220;">
                    <strong>Task's Expenses</strong>
                </td>
                <td class="last">{{ payment.totalPrice }}&nbsp;DH</td>
            </tr>
            <tr class="bg">
                <td class="first">
                    <strong>Total Price Paid</strong>
                </td>
                <td class="last">{{ payment.totalPricePaid}}&nbsp;DH</td>
            </tr>
            <tr class="bg">
                <td class="first">
                    <strong>Remaining Expenses</strong>
                </td>
            <td class="last">{{ payment.remainingPrice}}&nbsp;DH</td>
            </tr>
            <tr class="bg">
                <td class="first">
                    <strong>Finished</strong>
                </td>
                <td class="last">
                {% if payment.finished %}
                    Yes                    
                {% else %}
                    No
                {% endif %}
                </td>
            </tr>
            <tr class="bg">
                <td class="first">
                    <strong>Mission</strong>
                </td>
                <td class="last">
                {% if payment.mission and payment.mission is not empty %}
                <a href="{{path('showMission', {'id': payment.mission.id})}}" class="link">Show Mission</a> 
                {% else %}No Mission linked</td>{% endif %}
            </tr>
            </table>
        </div>
        <hr>
        <div class="table-responsive">
            <table class="table table-striped table-hover" cellpadding="0" cellspacing="0">
         <tr>
            <th class="full" colspan="2">Payment Driver Details</th>
        </tr>
        <tr class="bg">
                <td class="first" width="220;">
                <strong>Driver's Expenses</strong>
                </td>
                <td class="last">{{ payment.totalPriceToPayToDriver }}&nbsp;DH</td>
        </tr>
        <tr class="bg">
                <td class="first">
                    <strong>Total Price Paid To The Driver</strong>
                </td>
                <td class="last">{{ payment.totalPricePaidToDriver}}&nbsp;DH</td>
        </tr>
        <tr class="bg">
                <td class="first">
                    <strong>Remaining Driver Expenses</strong>
                </td>
            <td class="last">{{ payment.remainingPriceToDriver}}&nbsp;DH</td>
        </tr>
        <tr class="bg">
                <td class="first">
                    <strong>Payments Driver</strong>
                </td>
                <td class="last">
                {% if payment.paymentDriver and payment.paymentDriver is not empty %}
                    <a href="{{path('paymentDriverByPayment', {'idPayment': payment.id })}}" class="link" >Show</a>
                {% endif %}
                {% if payment.remainingPriceToDriver != 0 %}
                &nbsp;&nbsp;&nbsp;
                &nbsp;
                <a href="{{path('addPaymentDriver', {'idPayment': payment.id})}}">Add One</a>
                {% else %}
                    &nbsp;|&nbsp;&nbsp; <a class="btn-success btn-xs glyphicon glyphicon-ok"  disabled="true" style="color: black;text-align:center"> Driver is paid</a>
                {% endif %}
                </td>
        </tr>
        </table>
        </div>
        <hr>
        <div class="table-responsive">
            <table class="table table-striped table-hover" cellpadding="0" cellspacing="0">
        <tr>
            <th class="full" colspan="2">Payment Supplier Details</th>
        </tr>
        <tr class="bg">
                <td class="first" width="220;">
                <strong>Supplier's Expenses</strong>
                </td>
                <td class="last">{{ payment.totalPriceToPayToSupplier }}&nbsp;DH</td>
        </tr>
        <tr class="bg">
                <td class="first">
                    <strong>Total Price Paid To The Supplier</strong>
                </td>
                <td class="last">{{ payment.totalPricePaidToSupplier}}&nbsp;DH</td>
        </tr>
        <tr class="bg">
                <td class="first">
                    <strong>Remaining Supplier Expenses</strong>
                </td>
            <td class="last">{{ payment.remainigPriceToSupplier}}&nbsp;DH</td>
        </tr>
        <tr class="bg">
                <td class="first">
                    <strong>Payments Supplier</strong>
                </td>
                <td class="last">
                {% if payment.paymentSupplier and payment.paymentSupplier is not empty %}
                    <a href="{{path('paymentSupplierByPayment', {'idPayment': payment.id })}}" class="link" >Show</a>
                {% endif %}
                {% if payment.remainigPriceToSupplier != 0 %}
                &nbsp;&nbsp;&nbsp;
                &nbsp;
                <a href="{{path('addPaymentSupplier', {'idPayment': payment.id})}}">Add One</a>
                {% else %}
                    &nbsp;|&nbsp;&nbsp; <a class="btn-success btn-xs glyphicon glyphicon-ok" disabled="true" style="color: black;text-align:center"> Supplier is paid </a>
                {% endif %}
                </td>
        </tr>
    </table>
        </div>
        <hr>
        <div class="btn-group btn-group-justified">
            <a title="Show All payments" href="{{ path('allPayments') }}" class="btn btn-success btn-xs glyphicon glyphicon-arrow-left">  Back  </a>
        </div>
    </div>

{% endblock %}
